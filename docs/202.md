# 浅析下城校区学生远程监控

> 原文：<https://www.social-engineer.org/social-engineering/analysis-of-lower-merion-school-district-remote-monitoring-of-students-2/>

只需在谷歌上输入“ [Lower Merion County WebCam](https://www.google.com/#hl=en&source=hp&q=Lower+Merion+County+WebCam&aq=f&aqi=&aql=&oq=&gs_rfai=&fp=56fa4ceda65d5bbf) ”，就会返回 35，000 个网站和“Lower Merion County”185，000 个网站。这不是一个小新闻。然而，许多人关注的焦点是信息系统部门使用学校发放的笔记本电脑在家中主动拍摄未成年人/学生的私人照片的能力。

2010 年 2 月 16 日，一项针对 Lower Merion PA 学区的民事诉讼被提起，简而言之，指控学校监视学生，并在学生不知情的情况下，使用学校发放的苹果 MacBooks 中的嵌入式网络摄像头在学生家中拍摄学生照片。此前 social-engineer.org 曾在[博客上公开了](https://www.social-engineer.org/blog/general-blog/forget-big-brother-we-have-high-schools/)。

这些文章的信息基于最近发布的一份独立调查报告，该报告由学区保留，并由 [Ballard Spahr，L.L.P.](http://www.ballardspahr.com/) 利用 [L-3 服务公司](http://www.l-3com.com/)执行。，一家独立的计算机取证咨询公司。在为期 10 周的独立调查过程中，学区自愿提供了 500，000 页文档和 19tb 数据，供调查方进行分析，从而形成了一份很长的报告。还有几次对学区工作人员和当地执法部门的采访。

社交网站 Engineer.org 发出了求助请求，一位安全爱好者和渗透测试者，Nick "nick8ch" Hitchcock 挺身而出，帮助我们分析和破译这份大型报告。我们想出了一个两部分的博客帖子，将从一些独特的角度分析这个故事。

第 1 部分:技术分析:使用了什么技术，如何使用，何时使用，使用到什么程度。第 2 部分:我们可以从这个案例中学到什么，保护自己免受所谓“可信”来源的隐私侵犯。

第一部分:技术分析。

先来看看学区的技术设置背景。2007 年秋季，该校区购买了一款计算机管理软件，以应对不断增长的网络基础设施规模。他们选择了一个名为 [LANrev 的软件产品。](http://www.lanrev.com/)需要注意的是，从最初购买该软件开始，之前创建该软件包的公司 Pole Position 就被 Absolute Software 收购了。软件的名称以及一些功能已经更改，但是对于案例记录，我将使用监控软件和命名组件的原始命名。LANrev 的功能包括软件部署和更新/补丁、硬件/软件库存管理、跨平台兼容性(意味着支持 Windows 和苹果电脑)以及名为 TheftTrack 的“失窃追回”功能。由于显而易见的原因，我们将把重点放在最后一个特征的各个方面。

TheftTrack 到底做了什么？在笔记本电脑被盗的情况下，可以在笔记本电脑上远程激活该服务。TheftTrack 服务并非一直处于活动状态。它必须手动启动。在该校区内，18 名信息系统员工中只有两人拥有跟踪管理权限，即信息系统协调员 Carol Cafiero 和网络技术员 Michael Perbix。

这个窃听器能做什么？可以选择收集三样东西。当激活跟踪功能时，可以选择或取消选择这些功能中的任何一项或全部。1)计算机的 IP 地址 2)以特定时间间隔(短至一分钟)拍摄的来自嵌入式网络摄像头的静态照片或快照。3)以与网络摄像头快照相似的时间间隔拍摄的计算机桌面截图。

这些功能中需要注意的一点是，TheftTrack 无法从计算机中录制视频或音频。此外，如果摄像机正被另一个应用程序(例如视频会议)使用，它也不能访问摄像机。结果发现，远程快照不是“按需”提供的，而是只有在激活了跟踪功能后才提供，然后在 LANrev 设置为签到或“呼叫总部”的时间间隔内发送到学校的主 LANrev 库存服务器。这显然只能在指定的计算机连接到互联网时发生。这些信息随后被上传并存储到 LANrev 库存服务器。然后，需要从服务器中手动清除这些信息并进行审查。

下面是 Michael Perbix 谈论这个跟踪功能的视频:
<object width="660" height="405" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true"> <param name="allowscriptaccess" value="always"> <param name="src" value="http://www.youtube.com/v/hHu92imqJec&amp;hl=en_US&amp;fs=1&amp;border=1"> <param name="allowfullscreen" value="true"> <embed width="660" height="405" type="application/x-shockwave-flash" src="https://www.youtube.com/v/hHu92imqJec&amp;hl=en_US&amp;fs=1&amp;border=1" allowfullscreen="allowfullscreen" allowscriptaccess="always"></object>

我在内部调查中发现的一个差异是，尽管只有两个人有足够的凭证来激活或停用该服务，但我看到文档支持任何 LANrev 管理员都可以查看从 TheftTrack 收集的数据。

从社会工程的角度来看，这份独立报告的有用性和相关性到此为止。这个案例的一个重要方面被忽略了……

这项调查的整个重点在于，盗窃跟踪模块是唯一能够远程侵犯学生和教师隐私的方法。

LANrev 的标准安装允许远程管理员访问客户端，并允许从其客户端计算机进行更多的监控、跟踪和收集数据。

以下信息可通过 LANrev 网站找到。盗窃跟踪从第 4 版开始正式可用，但早在 LANrev 的第 1 版，管理员就能够与任何受监控计算机的 shell 或命令行进行交互。任何信息安全专家或黑客都会确认，这本身就是“圣杯”或危及计算机系统的最终目标。默认情况下，管理员可以随时使用它。请注意该软件生命周期中其他突出显示的修订:

–LAN rev 2.0 版实现了与 Mac 和 Windows 的远程桌面集成，允许远程图形用户界面交互。

–LAN rev 3.0 版增加了 VNC、PC Anywhere 和廷巴克图的集成。VNC 将远程图形用户界面交互带到了另一个层次，因为它允许秘密远程监控计算机桌面而不被检测到，也不需要远程用户的交互。这与学区无法观看学生活动直播的说法相矛盾。

–LAN rev 4.51 版增加了对使用新的查看文本文件命令在管理员工作站上搜索和显示客户端计算机中的任何文本文件的支持。这个版本中还增加了请求 LANrev 尝试唤醒当前挂起的计算机并放弃所有从远程计算机运行的命令的能力。

–LAN rev 4 . 6 . 2 版决定为了易用性而牺牲安全性。直接来自发行说明:“代理部署中心的新首选项设置(仅适用于 Mac OS X):您现在可以指示 LANrev 管理员忽略 SSH 主机密钥来标识要安装代理的客户端。这具有当客户端的操作系统已经改变时，例如由于重新安装，不需要重新认证的优点。但是，请注意，此选项也会导致安全性稍微降低，这使得未经授权的设备原则上有可能作为网络的合法成员出现在代理部署中心，并捕获 SSH 密码。”

–LAN rev 5 . 1 . 1 版增加了一个在执行 AppleScript 脚本时的功能，您可以选择在当前用户的上下文中执行，或者在另一个用户的上下文中执行。

此案的另一部分是，拥有盗窃凭据的 is 部门的两名成员之一 Michael Perbix 活跃在某些技术论坛上，讨论远程激活和停用苹果 MacBooks 上的内置网络摄像头。他自己的博客上有一篇这样的帖子给出了如何做到这一点的说明，并提供了一个简单的脚本来简化这一过程。

记住上面提到的最后一个特性，其中“您现在可以选择在当前用户的上下文中执行它们，或者在另一个用户的上下文中执行它们。”？这一特殊功能在内置网络摄像头的可能“秘密”使用中发挥了作用。

在正常操作过程中，如果 MacBook 上的内置网络摄像头被激活，网络摄像头旁边会出现一个小绿灯，让您知道它处于活动状态。例如，在过去几年里，Lower Merion 学校的一些学生报告说，他们的绿色网络摄像头灯瞬间打开，然后关闭。一位名叫克里斯汀·贾沃克的九年级教师甚至报告了这样一个案例。她甚至向她的学生提到，学校可以“激活他们笔记本电脑的网络摄像头”，因此她用胶带盖住了她的网络摄像头。她还向独立调查证实，她的一些学生讨论了在不使用网络摄像头时看到绿灯的情况。

如果监控软件拍摄单个快照，这将是有意义的。但如果长时间使用网络摄像头，它就不会“隐身”，因为灯会一直亮着。但是，如果有办法关掉灯呢？这就是我们的研究变得具有推测性但仍然引起严重关注的地方。如前所述，Michael Perbix 发布了一个禁用内置摄像头的方法。如果 TheftTrack 软件依赖这个硬件来拍摄快照，他为什么要这样做呢？他自己在另一个[论坛的话有答案](https://groups.google.com/group/macenterprise/browse_thread/thread/98dd9da15da4189f/)。

他说:“您…可以简单地更改 2 个文件的权限…这样做的目的是防止 iSight 在内部使用，但有些实用程序可能仍然有效(例如，外部应用程序使用它进行盗窃跟踪等)…我实际上创建了一个小的 Applescript 实用程序和终端脚本，它将允许您远程操作，或允许本地管理员打开和关闭它。DMG 的信息和链接都在我的博客里。”

有意思。所以他禁用网络摄像头的方法是权限变更。记住，LANrev 软件在远程机器上给了管理员权限，允许他们激活网络摄像头。请继续关注我们的博客，了解这项研究的最新进展。

此外，这是迈克尔·珀比克斯的个人博客，他提到直接在用户电脑上安装软件并通过脚本执行命令。

看来信息系统部知道 LANrev 软件的能力。他们知道如何正式使用它，也就是激活跟踪。我们的研究让我们相信这只是冰山一角。兰列夫本身有更大的能力。最可怕的是，使用 LANrev 手动推出或远程安装的任何东西都可能没有被记录。至少在被激活的时候，这个文件会留下痕迹。如果这些 LANrev 管理员中的任何一个，而不仅仅是两个 TheftTrack 管理员，想要远程安装一个恶意应用程序，比如一个捕获击键或截图的程序，他们随时都可以。此外，他们能够在用户不知情的情况下实时远程查看任何用户的计算机桌面。

总之，独立报告虽然看似详尽，但重点狭窄。它没有考虑到 LANrev 软件的能力，而仅仅关注于跟踪模块。我还想强调一个事实，他们检索了 19tb 的电子数据。为了客观地看待这个问题，他们说你将能够在大约 20tb 的容量上容纳整个国会图书馆。所以在 10 周的时间里，所有 19tb 的数据都被彻底调查了？

我相信这个“独立”的调查不足以说服任何人学区在这件事上的清白。事实上，从表面上看，这份报告似乎偏离了真正的问题，即学生和家庭的个人隐私。该报告简单地将责任归咎于不再受雇于该学区的前任信息系统主管和不再使用的跟踪软件。然而，任何允许在你不知情的情况下远程访问你家中隐私电脑的监控软件都是一回事。隐私问题仍在被侵犯。仅仅因为“官方”跟踪软件做了一个，B & C，这并不意味着兰列夫不能完成同样的当在一个不道德的网络技术人员的手中。隐私和人类尊严应该始终放在任何网络基础设施流程之上。这个案件中有太多错综复杂的细节，我们根本无法全部写出来。尽管这份独立报告缺乏对这一事件的全面了解，但它确实提供了一些非常详细的信息。建议你看一下。

我们听够了吗？大概不会。有很多方法可以保护你自己和你的家人。寻找这篇文章的后续文章，从技术角度介绍保护自己的方式和方法，并使用常识技术来抵御来自“可信”来源的隐私威胁。